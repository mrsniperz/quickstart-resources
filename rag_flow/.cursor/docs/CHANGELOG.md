# 变更日志

## [2024-01-15] 文档预处理模块开发完成

### 新增 ✨
- **文档处理/解析器**: 完成多格式文档解析器开发
  - 实现PDF文档处理器，支持PyMuPDF核心解析、表格识别、图像提取、文档结构分析和元数据提取
  - 实现Word文档处理器，支持python-docx解析、格式保持、表格提取和批量处理
  - 实现Excel文档处理器，支持openpyxl多工作表处理、数据提取和表格解析
  - 实现PowerPoint文档处理器，支持python-pptx幻灯片内容提取和备注处理
  - 实现统一文档处理器，提供多格式文档的统一解析接口和自动格式检测
  *影响范围：为整个RAG系统提供了核心的文档处理能力，支持航空行业常见的所有文档格式。*

- **文档处理/分块引擎**: 完成智能分块策略引擎开发
  - 实现分块引擎核心框架，支持多种分块策略的注册和管理
  - 实现航空文档专用分块策略，包括维修手册、规章制度、技术标准、培训资料的专门分块逻辑
  - 实现语义分块器，基于语义相似度和内容连贯性进行智能分块
  - 实现结构分块器，基于文档结构和格式进行分块处理
  - 实现自适应分块参数调整和质量控制机制
  *影响范围：为RAG系统提供了高质量的文档分块能力，特别针对航空行业文档特点进行了优化。*

- **文档处理/内容提取**: 完成内容提取器模块开发
  - 实现元数据提取器，支持文档属性、文件信息、内容统计的全面提取和标准化
  - 实现表格提取器，支持表格数据的解析、格式化和质量控制
  - 实现图像提取器，支持图像信息分析、格式转换和可选OCR功能
  *影响范围：为文档处理流程提供了完整的内容提取能力，支持多模态数据处理。*

- **文档处理/质量控制**: 完成质量控制模块开发
  - 实现分块验证器，提供分块质量控制、完整性验证和优化建议
  - 实现质量控制器，提供文档处理全流程的质量监控和评估
  - 支持多级验证（严格/普通/宽松）和自动质量评分
  *影响范围：确保文档处理质量，为后续的向量化和检索提供高质量的输入数据。*

### 优化 🚀
- **项目结构/模块组织**: 完善了核心模块的目录结构和代码组织
  - 按功能模块清晰划分代码结构
  - 统一了命名规范和注释标准
  - 完善了模块间的依赖关系和接口设计

- **文档/技术文档**: 创建了完整的模块文档
  - 编写了详细的README.md，包含API接口、使用示例和配置说明
  - 提供了完整的代码示例和最佳实践指南
  - 建立了清晰的错误处理和性能优化指南

### 变更 ⚠️
- **依赖管理**: 新增了文档处理相关的第三方库依赖
  - 添加pymupdf、python-docx、openpyxl、python-pptx等核心依赖
  - 添加Pillow等可选依赖用于图像处理
  - 更新了requirements.txt文件

## [2025-06-14]

### 新增 ✨
- **Milvus核心服务模块**: 创建了完整的Milvus核心服务架构
  *影响范围：新增了 `src/core/milvus/` 目录下的三个核心服务模块。*

- **Collection管理服务** (collection_manager.py): 提供Collection的创建、删除、分区管理、索引管理等功能
  *影响范围：支持动态Schema配置和多种数据类型的Collection创建。*

- **检索服务** (search_service.py): 提供向量检索、稀疏向量检索、文本匹配、混合检索等功能
  *影响范围：支持多种检索策略和结果融合算法。*

- **元数据关联服务** (metadata_service.py): 提供元数据补全、复合查询、聚合查询等功能
  *影响范围：支持元数据缓存和复杂查询场景。*

- **数据操作服务** (data_service.py): 提供数据插入、更新、删除、批量操作等功能
  *影响范围：包含从原始代码优化的通用化删除功能，支持智能批量处理和数据验证。*

- **日志管理器重构**: 将SZ_LoggerManager移动到utils目录并增强功能
  *影响范围：提供了更完善的日志配置和管理功能。*

- **详细技术文档**: 创建了完整的README.md技术文档
  *影响范围：包含API参考、使用示例、故障排除指南等详细信息。*

### 优化 🚀
- **代码结构重组**: 按照标准项目结构重新组织代码模块
  *影响范围：提高了代码的可维护性和可扩展性。*

- **模块化设计**: 将原有的单一文件拆分为多个专门的服务模块
  *影响范围：遵循单一职责原则，提高代码质量。*

### 变更 ⚠️
- **项目结构调整**: 创建了标准的核心服务目录结构
  *影响范围：为后续的API重构和功能扩展奠定了基础。*

- **依赖关系优化**: 重新设计了模块间的依赖关系
  *影响范围：降低了模块间的耦合度。*
