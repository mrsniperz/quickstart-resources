# ä¾èµ–ç‰ˆæœ¬åˆ†ææŠ¥å‘Š

## æ¦‚è¿°

æœ¬æŠ¥å‘Šåˆ†æäº†å½“å‰ requirements.txt ä¸­æŒ‡å®šçš„ç‰ˆæœ¬èŒƒå›´ä¸å®é™…å¯ç”¨ç‰ˆæœ¬çš„å…³ç³»ï¼Œä»¥åŠpipå®‰è£…æ—¶ä¼šé€‰æ‹©çš„å…·ä½“ç‰ˆæœ¬ã€‚

## ç‰ˆæœ¬è§£æè§„åˆ™

### pipç‰ˆæœ¬é€‰æ‹©ç­–ç•¥
å½“æ‚¨æŒ‡å®š `docling>=2.0.0,<3.0.0` æ—¶ï¼Œpipä¼šï¼š
1. **é€‰æ‹©æœ€æ–°å…¼å®¹ç‰ˆæœ¬**: åœ¨æ»¡è¶³æ¡ä»¶çš„ç‰ˆæœ¬ä¸­é€‰æ‹©æœ€æ–°çš„
2. **è€ƒè™‘ä¾èµ–çº¦æŸ**: ç¡®ä¿æ‰€æœ‰ä¾èµ–çš„ç‰ˆæœ¬è¦æ±‚éƒ½èƒ½æ»¡è¶³
3. **ä¼˜å…ˆç¨³å®šç‰ˆæœ¬**: é¿å…é¢„å‘å¸ƒç‰ˆæœ¬ï¼ˆé™¤éæ˜ç¡®æŒ‡å®šï¼‰

## å…³é”®ä¾èµ–ç‰ˆæœ¬åˆ†æ

### 1. docling>=2.0.0,<3.0.0
- **æœ€æ–°å¯ç”¨ç‰ˆæœ¬**: 2.40.0 (2025å¹´7æœˆ4æ—¥å‘å¸ƒ)
- **pipä¼šå®‰è£…**: 2.40.0
- **ç‰ˆæœ¬å†å²**: ä»2.0.0åˆ°2.40.0ï¼Œæ›´æ–°é¢‘ç¹
- **Pythonè¦æ±‚**: >=3.9,<4.0
- **åˆ†æ**: 
  - âœ… ç‰ˆæœ¬èŒƒå›´åˆç†ï¼Œä¼šå®‰è£…æœ€æ–°ç¨³å®šç‰ˆ
  - âœ… 2.40.0æ˜¯ç”Ÿäº§ç¨³å®šç‰ˆæœ¬
  - âš ï¸ æ›´æ–°é¢‘ç¹ï¼Œå»ºè®®å®šæœŸæ£€æŸ¥å…¼å®¹æ€§

### 2. pymilvus>=2.3.0,<3.0.0
- **æœ€æ–°å¯ç”¨ç‰ˆæœ¬**: 2.5.12
- **pipä¼šå®‰è£…**: 2.5.12
- **ç‰ˆæœ¬å†å²**: 2.3.x â†’ 2.4.x â†’ 2.5.x
- **åˆ†æ**:
  - âœ… ç‰ˆæœ¬èŒƒå›´åˆç†ï¼Œæ¶µç›–ç¨³å®šç‰ˆæœ¬
  - âœ… 2.5.12æ˜¯å½“å‰æœ€æ–°ç¨³å®šç‰ˆ
  - âœ… Milvuså®¢æˆ·ç«¯å‘åå…¼å®¹æ€§è‰¯å¥½

### 3. transformers>=4.35.0,<5.0.0
- **æœ€æ–°å¯ç”¨ç‰ˆæœ¬**: 4.53.1
- **pipä¼šå®‰è£…**: 4.53.1
- **ç‰ˆæœ¬å†å²**: 4.35.x â†’ 4.53.x
- **åˆ†æ**:
  - âœ… ç‰ˆæœ¬èŒƒå›´åˆç†ï¼Œé¿å…5.xçš„ç ´åæ€§å˜æ›´
  - âœ… 4.53.1åŒ…å«æœ€æ–°çš„æ¨¡å‹æ”¯æŒ
  - âš ï¸ ç‰ˆæœ¬æ›´æ–°é¢‘ç¹ï¼Œå¯èƒ½åŒ…å«æ–°åŠŸèƒ½

### 4. torch>=2.1.0,<3.0.0
- **æœ€æ–°å¯ç”¨ç‰ˆæœ¬**: çº¦2.5.x
- **pipä¼šå®‰è£…**: æœ€æ–°2.xç‰ˆæœ¬
- **åˆ†æ**:
  - âœ… é¿å…3.xçš„æ½œåœ¨ç ´åæ€§å˜æ›´
  - âš ï¸ éœ€è¦è€ƒè™‘CUDAç‰ˆæœ¬å…¼å®¹æ€§

### 5. pandas>=2.1.0,<3.0.0
- **æœ€æ–°å¯ç”¨ç‰ˆæœ¬**: 2.3.0
- **pipä¼šå®‰è£…**: 2.3.0
- **åˆ†æ**:
  - âœ… ç‰ˆæœ¬èŒƒå›´åˆç†
  - âœ… 2.3.0æ˜¯ç¨³å®šç‰ˆæœ¬

### 6. numpy>=1.24.0,<2.0.0
- **æœ€æ–°å¯ç”¨ç‰ˆæœ¬**: 2.3.1
- **pipä¼šå®‰è£…**: 1.26.x (æœ€æ–°1.xç‰ˆæœ¬)
- **åˆ†æ**:
  - âš ï¸ **ç‰ˆæœ¬çº¦æŸè¿‡ä¸¥**: numpy 2.xå·²å‘å¸ƒä¸”ç¨³å®š
  - ğŸ”„ **å»ºè®®æ›´æ–°**: `numpy>=1.24.0,<3.0.0`

## ä¾èµ–å†²çªåˆ†æ

### æ½œåœ¨å†²çªç‚¹
1. **numpyç‰ˆæœ¬**: 
   - å½“å‰çº¦æŸ: `<2.0.0`
   - å…¶ä»–åº“å¯èƒ½éœ€è¦: numpy 2.x
   - **è§£å†³æ–¹æ¡ˆ**: æ›´æ–°ä¸º `<3.0.0`

2. **Pythonç‰ˆæœ¬è¦æ±‚**:
   - doclingè¦æ±‚: >=3.9
   - å…¶ä»–åº“å…¼å®¹: 3.9+
   - **ç»“è®º**: éœ€è¦Python 3.9+

## å®é™…å®‰è£…ç‰ˆæœ¬é¢„æµ‹

åŸºäºå½“å‰requirements.txtï¼Œpip installä¼šå®‰è£…ï¼š

```
docling==2.40.0
pymilvus==2.5.12
transformers==4.53.1
torch==2.5.x (æœ€æ–°ç¨³å®šç‰ˆ)
pandas==2.3.0
numpy==1.26.x (å—<2.0.0çº¦æŸ)
Pillow==10.4.x
pymupdf==1.24.x
python-docx==1.1.x
openpyxl==3.1.x
python-pptx==0.6.x
pytesseract==0.3.x
```

## ç‰ˆæœ¬å…¼å®¹æ€§çŸ©é˜µ

| åº“ | å½“å‰çº¦æŸ | å®é™…å®‰è£…ç‰ˆæœ¬ | å…¼å®¹æ€§ | å»ºè®® |
|---|----------|-------------|--------|------|
| docling | >=2.0.0,<3.0.0 | 2.40.0 | âœ… è‰¯å¥½ | ä¿æŒ |
| pymilvus | >=2.3.0,<3.0.0 | 2.5.12 | âœ… è‰¯å¥½ | ä¿æŒ |
| transformers | >=4.35.0,<5.0.0 | 4.53.1 | âœ… è‰¯å¥½ | ä¿æŒ |
| torch | >=2.1.0,<3.0.0 | 2.5.x | âœ… è‰¯å¥½ | ä¿æŒ |
| pandas | >=2.1.0,<3.0.0 | 2.3.0 | âœ… è‰¯å¥½ | ä¿æŒ |
| numpy | >=1.24.0,<2.0.0 | 1.26.x | âš ï¸ å—é™ | æ›´æ–°çº¦æŸ |

## å»ºè®®çš„ç‰ˆæœ¬ä¼˜åŒ–

### 1. ç«‹å³ä¿®å¤
```diff
- numpy>=1.24.0,<2.0.0
+ numpy>=1.24.0,<3.0.0
```

### 2. å¯é€‰ä¼˜åŒ–
å¦‚æœå¸Œæœ›æ›´ä¿å®ˆçš„ç‰ˆæœ¬æ§åˆ¶ï¼š
```diff
- docling>=2.0.0,<3.0.0
+ docling>=2.40.0,<2.41.0  # é”å®šåˆ°å½“å‰ç¨³å®šç‰ˆæœ¬

- transformers>=4.35.0,<5.0.0
+ transformers>=4.53.0,<4.54.0  # é”å®šåˆ°å½“å‰ç¨³å®šç‰ˆæœ¬
```

## ç‰ˆæœ¬ç›‘æ§å»ºè®®

### 1. å®šæœŸæ£€æŸ¥
```bash
# æ£€æŸ¥è¿‡æ—¶çš„åŒ…
pip list --outdated

# æ£€æŸ¥å®‰å…¨æ¼æ´
pip-audit

# æ£€æŸ¥ä¾èµ–æ ‘
pipdeptree
```

### 2. è‡ªåŠ¨åŒ–ç›‘æ§
- ä½¿ç”¨Dependabotæˆ–Renovateè¿›è¡Œè‡ªåŠ¨ä¾èµ–æ›´æ–°
- è®¾ç½®CI/CDæµæ°´çº¿è¿›è¡Œå…¼å®¹æ€§æµ‹è¯•
- å®šæœŸè¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶

### 3. ç‰ˆæœ¬é”å®šç­–ç•¥
- **å¼€å‘ç¯å¢ƒ**: ä½¿ç”¨èŒƒå›´ç‰ˆæœ¬ï¼ˆå½“å‰æ–¹å¼ï¼‰
- **ç”Ÿäº§ç¯å¢ƒ**: ä½¿ç”¨ `pip freeze` ç”Ÿæˆç²¾ç¡®ç‰ˆæœ¬
- **æµ‹è¯•ç¯å¢ƒ**: å®šæœŸæµ‹è¯•æœ€æ–°ç‰ˆæœ¬å…¼å®¹æ€§

## æ€»ç»“

1. **å½“å‰ç‰ˆæœ¬ç­–ç•¥æ•´ä½“åˆç†**ï¼Œå¤§å¤šæ•°çº¦æŸéƒ½èƒ½å®‰è£…åˆ°æœ€æ–°ç¨³å®šç‰ˆæœ¬
2. **numpyç‰ˆæœ¬çº¦æŸéœ€è¦æ›´æ–°**ï¼Œä»¥æ”¯æŒnumpy 2.x
3. **doclingä¼šå®‰è£…2.40.0**ï¼Œè¿™æ˜¯æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼ŒåŠŸèƒ½å®Œæ•´
4. **ä¾èµ–å†²çªé£é™©è¾ƒä½**ï¼Œä¸»è¦æ³¨æ„numpyç‰ˆæœ¬é—®é¢˜
5. **å»ºè®®å®šæœŸç›‘æ§**ä¾èµ–æ›´æ–°ï¼Œç‰¹åˆ«æ˜¯å®‰å…¨è¡¥ä¸

é€šè¿‡è¿™ç§ç‰ˆæœ¬ç®¡ç†ç­–ç•¥ï¼Œæ‚¨å¯ä»¥åœ¨ç¨³å®šæ€§å’ŒåŠŸèƒ½æ€§ä¹‹é—´å–å¾—è‰¯å¥½å¹³è¡¡ã€‚
